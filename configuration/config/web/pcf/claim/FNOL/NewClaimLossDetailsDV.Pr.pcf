<?xml version="1.0"?>
<PCF
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../../../../../pcf.xsd">
  <DetailViewPanel
    id="NewClaimLossDetailsDV"
    mode="Pr">
    <Require
      name="Claim"
      type="Claim"/>
    <Variable
      initialValue="new gw.api.claim.CommercialPropertyHelper(Claim)"
      name="CommercialPropertyHelper"
      type="gw.api.claim.CommercialPropertyHelper"/>
    <InputColumn>
      <Label
        label="DisplayKey.get(&quot;NVV.Claim.NewClaimLossDetailsProperty.Claim.Policy&quot;)"/>
      <TextInput
        id="Policy_PolicyNumber"
        label="DisplayKey.get(&quot;NVV.Claim.NewClaimLossDetailsProperty.Policy.PolicyNumber&quot;)"
        value="Claim.Policy.PolicyNumber"/>
      <TypeKeyInput
        id="Policy_Status"
        label="DisplayKey.get(&quot;NVV.Claim.NewClaimLossDetailsProperty.Policy.Status&quot;)"
        value="Claim.Policy.Status"
        valueType="typekey.PolicyStatus"/>
      <InputDivider/>
      <Label
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim&quot;)"/>
      <TypeKeyInput
        editable="true"
        id="Claim_LOBCode"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LOBCode&quot;)"
        required="true"
        value="Claim.LOBCode"
        valueType="typekey.LOBCode"/>
      <TypeKeyInput
        id="Claim_LossType"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LossType&quot;)"
        required="false"
        value="Claim.LossType"
        valueType="typekey.LossType"/>
      <RangeInput
        editable="true"
        id="Claim_PermissionRequired"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.PermissionRequired&quot;)"
        required="false"
        value="Claim.PermissionRequired"
        valueRange="gw.api.claim.ClaimUtil.getAvailableTypes()"
        valueType="typekey.ClaimSecurityType"/>
      <InputDivider/>
      <TextAreaInput
        boldLabel="true"
        editable="true"
        id="Description"
        label="DisplayKey.get(&quot;NVV.Claim.NewClaimLossDetailsProperty.Claim.Description&quot;)"
        numCols="50"
        numRows="3"
        value="Claim.Description"/>
      <InputDivider/>
      <Label
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LossDetails&quot;)"/>
      <TypeKeyInput
        editable="true"
        id="Claim_LossCause"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LossCause&quot;)"
        required="true"
        value="Claim.LossCause"
        valueType="typekey.LossCause">
        <PostOnChange
          onChange="CommercialPropertyHelper.createDamageTypesPerLossCause()"/>
      </TypeKeyInput>
      <BooleanRadioInput
        editable="true"
        id="ArsonInvolved"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.ArsonInvolved&quot;)"
        value="Claim.PropertyFireDamage.Arson"
        visible="CommercialPropertyHelper.PropertyFireDamage.Present"/>
      <TypeKeyInput
        editable="true"
        id="LocationOfTheft"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LocationOfTheft&quot;)"
        value="Claim.LocationOfTheft"
        valueType="typekey.LocationOfTheft"
        visible="Claim.LossCause == TC_BURGLARY"/>
      <RangeInput
        editable="true"
        id="Catastrophe_CatastropheNumber"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Catastrophe.CatastropheNumber&quot;)"
        required="false"
        value="Claim.Catastrophe"
        valueRange="gw.api.admin.CatastropheUtil.getCatastrophes()"
        valueType="entity.Catastrophe"/>
      <TypeKeyInput
        editable="true"
        id="Notification_Fault"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification.Fault&quot;)"
        value="Claim.FaultRating"
        valueType="typekey.FaultRating">
        <PostOnChange
          target="Notification_AtFaultPercentage"/>
      </TypeKeyInput>
      <TextInput
        editable="true"
        formatType="percentagePoints"
        id="Notification_AtFaultPercentage"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification.AtFaultPercentage&quot;)"
        value="Claim.Fault"
        valueType="java.math.BigDecimal"
        visible=" Claim.FaultRating == TC_1 "/>
      <DateInput
        dateFormat="short"
        id="Claim_LossDate"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LossDate&quot;)"
        timeFormat="short"
        validationExpression="Claim.LossDate == null || Claim.LossDate &lt; gw.api.util.DateUtil.currentDate() ? null : DisplayKey.get(&quot;Java.Validation.Date.ForbidFuture&quot;)"
        value="Claim.LossDate"/>
      <InputDivider/>
      <Label
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification&quot;)"/>
      <DateInput
        editable="true"
        id="Notification_ReportedDate"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification.ReportedDate&quot;)"
        required="true"
        validationExpression="Claim.ReportedDate == null || Claim.ReportedDate &lt; gw.api.util.DateUtil.currentDate() ? null : DisplayKey.get(&quot;Java.Validation.Date.ForbidFuture&quot;)"
        value="Claim.ReportedDate"/>
      <BooleanRadioInput
        editable="true"
        id="Notification_FirstNoticeSuit"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification.FirstNoticeSuit&quot;)"
        value="Claim.FirstNoticeSuit"/>
      <TypeKeyInput
        editable="true"
        id="Notification_HowReported"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Notification.HowReported&quot;)"
        value="Claim.HowReported"
        valueType="typekey.HowReportedType"/>
      <BooleanRadioInput
        editable="true"
        id="Status_IncidentReport"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Status.IncidentReport&quot;)"
        required="true"
        value="Claim.IncidentReport"/>
      <BooleanRadioInput
        editable="true"
        id="Status_CoverageQuestion"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Status.CoverageQuestion&quot;)"
        required="false"
        value="Claim.CoverageInQuestion"/>
      <InputDivider/>
    </InputColumn>
    <InputColumn>
      <ListViewInput
        boldLabel="true"
        def="EditableFixedPropertyIncidentsLV(Claim)"
        editable="true"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Properties&quot;)"
        labelAbove="true">
        <Toolbar>
          <IteratorButtons
            iterator="EditableFixedPropertyIncidentsLV.EditableFixedPropertyIncidentsLV"
            removeFlags="all Removeable"/>
        </Toolbar>
      </ListViewInput>
      <InputDivider/>
      <ListViewInput
        boldLabel="true"
        def="EditableInjuryIncidentsLV(Claim)"
        editable="true"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.LossDetails.Claim.Injuries&quot;)"
        labelAbove="true">
        <Toolbar>
          <IteratorButtons
            iterator="EditableInjuryIncidentsLV.EditableInjuryIncidentsLV"
            removeFlags="all Removeable"/>
        </Toolbar>
      </ListViewInput>
      <InputDivider/>
      <Label
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.LossLocation&quot;)"/>
      <InputSetRef
        def="CCAddressInputSet(Claim.AddressOwner)"/>
      <InputDivider/>
      <ListViewInput
        boldLabel="true"
        def="EditableOfficialsLV(Claim)"
        editable="true"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.Officials&quot;)"
        labelAbove="true">
        <Toolbar>
          <IteratorButtons
            iterator="EditableOfficialsLV.EditableOfficialsLV"/>
        </Toolbar>
      </ListViewInput>
    </InputColumn>
    <InputFooterSection>
      <ListViewInput
        boldLabel="true"
        def="PriorClaimsLV(Claim.findPriorClaimsByPolicyNumber(Claim.Policy.PolicyNumber, {ClaimState.TC_DRAFT}))"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.NewClaimLossDetailsProperty.Claim.PriorClaims&quot;)"
        labelAbove="true">
        <Toolbar/>
      </ListViewInput>
      <ListViewInput
        boldLabel="true"
        def="MetroReportsLV(Claim)"
        editable="true"
        label="DisplayKey.get(&quot;NVV.Claim.SubView.LossDetailsAuto.Claim.MetroReports&quot;)"
        labelAbove="true">
        <Toolbar>
          <IteratorButtons
            addLabel="DisplayKey.get(&quot;Button.Metro.New&quot;)"
            iterator="MetroReportsLV.MetroReportsLV"
            removeFlags="any RemovableMetroReport, no NotRemovableMetroReport"/>
        </Toolbar>
      </ListViewInput>
    </InputFooterSection>
  </DetailViewPanel>
</PCF>