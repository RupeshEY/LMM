<?xml version="1.0"?>
<PCF
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../../../../pcf.xsd">
  <Popup
    afterCancel="fragHolder.onCancel()"
    afterCommit="fragHolder.onCommit()"
    canEdit="true"
    id="SumExpressionPopup"
    startInEditMode="true"
    title="fragHolder.PopupTitle">
    <LocationEntryPoint
      signature="SumExpressionPopup(fragHolder : gw.bizrules.pcf.SumExpressionFragmentHolder)"/>
    <Variable
      name="fragHolder"
      type="gw.bizrules.pcf.SumExpressionFragmentHolder"/>
    <Variable
      initialValue="fragHolder.getInitializedNestedController(CurrentLocation)"
      name="initializedController"
      type="gw.bizrules.pcf.ConditionBuilderController"/>
    <Screen>
      <Toolbar>
        <EditButtons/>
        <ToolbarButtonSetRef
          toolbarButtonSet="ConditionValidationToolbarButtonSet(fragHolder)"/>
      </Toolbar>
      <Verbatim
        id="DescriptionText"
        label="fragHolder.PopupDescriptionText"
        visible="fragHolder.PopupDescriptionText != null"/>
      <DetailViewPanel
        columnDivider="false">
        <InputColumn>
          <TextInput
            autoComplete="fragHolder.IterableHolder.AutocompleteHandler"
            enableAutoCompleteMarkup="true"
            editable="true"
            id="Iterable"
            inputConversion="fragHolder.IterableHolder.inputConversion(VALUE)"
            label="DisplayKey.get('BizRules.FilteredIterableExpressionPopup.Iterable.Label')"
            numCols="40"
            outputConversion="fragHolder.IterableHolder.outputConversion()"
            value="fragHolder.IterableHolder.FragmentProp"
            valueType="entity.ExpressionFragment">
            <PostOnChange/>
          </TextInput>
          <InputSetRef
            id="IterableErrors"
            def="ValidationErrorsInputSet(fragHolder.validateIterable(), false)"/>
          <TextInput
            autoComplete="fragHolder.NumericTransformHolder.AutocompleteHandler"
            enableAutoCompleteMarkup="true"
            available="fragHolder.validateIterable().IsEmpty"
            editable="true"
            id="NumericTransform"
            inputConversion="fragHolder.NumericTransformHolder.inputConversion(VALUE)"
            label="DisplayKey.get('BizRules.SumExpressionPopup.NumericTransform.Label')"
            numCols="40"
            outputConversion="fragHolder.NumericTransformHolder.outputConversion()"
            value="fragHolder.NumericTransformHolder.FragmentProp"
            valueType="entity.ExpressionFragment">
            <PostOnChange/>
          </TextInput>
          <InputSetRef
            id="NumericTransformErrors"
            def="ValidationErrorsInputSet(fragHolder.validateNumericTransform(), false)"/>
          <TextInput
            id="Space"
            value="null"
            visible="fragHolder.validateNumericTransform().IsEmpty"/>
        </InputColumn>
        <InputColumn>
          <Label
            id="IterableElementTypeDescription"
            label="fragHolder.IterableElementTypeDescription"/>
        </InputColumn>
      </DetailViewPanel>
      <PanelRef
        def="ConditionEnabledDV(fragHolder)"/>
      <DetailViewPanel>
        <InputColumn>
          <InputDivider/>
        </InputColumn>
      </DetailViewPanel>
      <PanelRef
        def="ConditionBuilderPanelSet(initializedController)"
        id="ConditionBuilderPanelSet"
        visible="!fragHolder.ConditionDisabled"/>
    </Screen>
  </Popup>
</PCF>